import{S as p,a as l,i as d}from"./assets/vendor-c493984e.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();document.querySelector(".loader");let h=new p(".gallery a");const m=document.querySelector(".img-list");function g(o){const r=o.hits.map(t=>`<li class="list-el">
                <a href="${t.largeImageURL}"><img src='${t.webformatURL}' alt='${t.tags}'></a>
                <div class="content">
                    <div class="item"><h3>Likes</h3><p>${t.likes}</p></div>
                    <div class="item"><h3>Views</h3><p>${t.views}</p></div>
                    <div class="item"><h3>Comments</h3><p>${t.comments}</p></div>
                    <div class="item"><h3>Downloads</h3><p>${t.downloads}</p></div>
                </div>
            </li>`).join("");m.textContent="",m.insertAdjacentHTML("beforeend",r),c(),h.refresh()}async function y(o,r){l.defaults.baseURL="https://pixabay.com";const t={key:"44349742-ecc8a7b60aea5585f0c207813",q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:r};try{return(await l.get("/api/",{params:t})).data}catch(i){console.log(i)}}const u=document.querySelector(".form-el"),L=document.querySelector(".img-list"),f=document.querySelector(".loader");function v(){f.classList.remove("visually-hidden")}function c(){f.classList.add("visually-hidden")}let n=1;u.addEventListener("submit",async o=>{o.preventDefault();const r=u.elements[0].value.trim();if(v(),r){n++;const t=await y(r,n);Event.target.value!==r?n=1:n++;try{if(t.hits.length===0)throw c(),L.innerHTML="",new Error("Error! Nothing to load");g(t)}catch{d.show({title:"Sorry",message:"there are no images matching your search query. Please try again!",color:"red"})}}else{c(),d.error({message:"Info Search input must be filled!"});return}});
//# sourceMappingURL=commonHelpers.js.map
